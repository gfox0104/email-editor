(()=>{"use strict";var e={n:r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=require("express");var t=e.n(r);const n=require("path");var a=e.n(n);const o=require("ejs");var i=e.n(o);const p=require("body-parser");var c=e.n(p);const l=require("react");var u=e.n(l);const s=require("react-dom/server");var b=e.n(s);const g=require("@material-ui/core/CssBaseline");var f=e.n(g);const y=require("@material-ui/core/styles"),x=require("lodash");var d=e.n(x);const m=require("@material-ui/core");var O=["none","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 2px 2px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 3px 4px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 6px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 6px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 4px 8px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 5px 8px -2px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 6px 12px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 7px 12px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 6px 16px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 7px 16px -4px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 8px 18px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 9px 18px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 10px 20px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 11px 20px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 12px 22px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 13px 22px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 14px 24px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 16px 28px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 18px 30px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 20px 32px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 22px 34px -8px rgba(0,0,0,0.50)","0 0 1px 0 rgba(0,0,0,0.70), 0 24px 36px -8px rgba(0,0,0,0.50)"],h="LIGHT",v={direction:"ltr",typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}},overrides:{MuiLinearProgress:{root:{borderRadius:3,overflow:"hidden"}},MuiListItemIcon:{root:{minWidth:32}},MuiChip:{root:{backgroundColor:"rgba(0,0,0,0.075)"}}}},j=[{name:h,overrides:{MuiInputBase:{input:{"&::placeholder":{opacity:1,color:m.colors.blueGrey[600]}}}},palette:{type:"light",action:{active:m.colors.blueGrey[600]},background:{default:m.colors.common.white,dark:"#f4f6f8",paper:m.colors.common.white},primary:{main:m.colors.indigo[600]},secondary:{main:"#5850EC"},text:{primary:m.colors.blueGrey[900],secondary:m.colors.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"]},{name:"ONE_DARK",palette:{type:"dark",action:{active:"rgba(255, 255, 255, 0.54)",hover:"rgba(255, 255, 255, 0.04)",selected:"rgba(255, 255, 255, 0.08)",disabled:"rgba(255, 255, 255, 0.26)",disabledBackground:"rgba(255, 255, 255, 0.12)",focus:"rgba(255, 255, 255, 0.12)"},background:{default:"#282C34",dark:"#1c2025",paper:"#282C34"},primary:{main:"#8a85ff"},secondary:{main:"#8a85ff"},text:{primary:"#e6e5e8",secondary:"#adb0bb"}},shadows:O},{name:"UNICORN",palette:{type:"dark",action:{active:"rgba(255, 255, 255, 0.54)",hover:"rgba(255, 255, 255, 0.04)",selected:"rgba(255, 255, 255, 0.08)",disabled:"rgba(255, 255, 255, 0.26)",disabledBackground:"rgba(255, 255, 255, 0.12)",focus:"rgba(255, 255, 255, 0.12)"},background:{default:"#2a2d3d",dark:"#222431",paper:"#2a2d3d"},primary:{main:"#a67dff"},secondary:{main:"#a67dff"},text:{primary:"#f6f5f8",secondary:"#9699a4"}},shadows:O}];function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function P(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){S(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function S(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var E=(0,l.forwardRef)((function(e,r){var t=e.container,n=e.item,a=e.xs,o=(e.alignContent,e.justifyContent),i=e.children,p=e.style,c=e.id;return t&&!n?u().createElement("table",{style:P(P({width:"100%"},p),{},{tableLayout:"fixed",borderSpacing:"0"}),cellSpacing:"0"},u().createElement("tbody",{align:o,style:{width:"100%"}},i)):u().createElement("tr",null,u().createElement("td",{style:{padding:0}},u().createElement("div",{style:P({},p)},u().createElement("div",{id:c,style:P({},"Main"!==c?{width:"".concat(100/12*a,"%")}:{}),className:"Main"===c?"mainClass":null},i))))}));E.defaultProps={alignContent:"center",justifyContent:"left",item:!1,container:!1,xs:12,style:{}};var k=["props","id","parentStyle","style"];function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function I(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){q(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function q(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var B=function(e){var r=e.children,t=e.style,n=e.parentStyle,a=e.props;return u().createElement(E,{item:!0,style:n,xs:a.xs,id:a.id},u().createElement(E,{container:!0,style:T(T({},t),{},{backgroundImage:"url("+t.backgroundImage+")",backgroundRepeat:"no-repeat",backgroundSize:"cover"}),alignItems:a.alignItems},u().createElement(u().Fragment,null,r)))};const M=require("html-react-parser");var R=e.n(M),z=["props","parentStyle","style"];var A=["props","style","parentStyle"];function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function W(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function G(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?G(Object(t),!0).forEach((function(r){F(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function F(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var H=(0,m.makeStyles)((function(e){return{}}));require("@material-ui/icons/PlayCircleOutlineOutlined");var _=["props","style","parentStyle"];function U(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function X(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Y=["style","parentStyle"];function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function K(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function V(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function $(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?V(Object(t),!0).forEach((function(r){Q(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Q(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Z=function(){return Z=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var a in r=arguments[t])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},Z.apply(this,arguments)},ee={Text:function(e){var r=e.props,t=e.style,n=e.parentStyle,a=(H(),L({},n));a.backgroundImage="url("+a.backgroundImage+")";var o=["p","h1","h2","h3","h4","h5","h6"],i=r.html,p={replace:function(e){var r=e.attribs,t=e.children,n=e.name;if(r){var a=(0,M.attributesToProps)(r);if(o.includes(n)){var i=L(L({},a.style),{},{whiteSpace:"pre-wrap",wordBreak:"normal",wordWrap:"normal"});return u().createElement(m.Typography,{variant:"p"===n?"body2":n,style:i},(0,M.domToReact)(t,p))}return"hr"===n||"br"===n?u().createElement(n,a):u().createElement(n,a,(0,M.domToReact)(t,p))}}};return u().createElement(E,{item:!0,xs:12,style:a},u().createElement(m.Box,{className:"braft-output-content",style:t},R()(i,p)))},Container:function(e){var r=e.children,t=e.id,n=e.style,a=e.parentStyle,o=e.props,i=o.containerType,p=r.filter((function(e){return e.props.children.length>0}));return u().createElement(B,{id:t,style:n,parentStyle:a,props:o},i>1?u().createElement("tr",null,p.map((function(e,r){return u().createElement("td",{key:e.props.id,width:"".concat(100/i,"%"),style:{padding:0},id:"containerCol"},u().createElement(E,{container:!0},e))}))):u().createElement(u().Fragment,null,r))},Button:function(e){var r=e.props,t=e.id,n=e.parentStyle,a=e.style,o=(function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}(e,k),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach((function(r){I(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},n));return o.backgroundImage="url("+o.backgroundImage+")",u().createElement(E,{id:t,item:!0,xs:12,style:Object.assign({textAlign:o.align},o)},u().createElement(m.Button,{href:r.path,target:"_blank",style:Object.assign({display:"inline-block"},a)},r.text))},Image:function(e){var r=e.props,t=e.style,n=e.parentStyle,a=(function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}(e,A),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){W(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},n));return a.backgroundImage="url("+a.backgroundImage+")",u().createElement(E,{item:!0,xs:12,style:Object.assign({textAlign:a.align},a)},u().createElement("a",{href:r.path,target:r.linkTarget,style:{pointerEvents:"#"===r.path?"none":"auto"}},u().createElement("img",{src:r.src,width:t.width,alt:r.altText,style:t})))},Video:function(e){var r=e.props,t=e.style,n=e.parentStyle,a=(function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}(e,_),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?U(Object(t),!0).forEach((function(r){X(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},n));return a.backgroundImage="url("+a.backgroundImage+")",u().createElement(E,{item:!0,xs:12,style:Object.assign({textAlign:a.align},a)},r.src?u().createElement(u().Fragment,null,u().createElement("video",{style:t,controls:!0},u().createElement("source",{src:r.src,type:"video/mp4"}),"Your browser does not support HTML video.")):u().createElement("img",{style:t,src:"https://raven-images.s3.ap-south-1.amazonaws.com/images/placeholder_video.jpg"}))},HtmlBox:function(e){var r=e.props,t=e.parentStyle;return e.style,function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}(e,z),u().createElement(E,{item:!0,xs:12,style:t},u().createElement("div",{dangerouslySetInnerHTML:{__html:r.html}}))},CustomDivider:function(e){var r=e.style,t=e.parentStyle,n=(function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}(e,Y),function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach((function(r){K(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},t));return n.backgroundImage="url("+n.backgroundImage+")",u().createElement(E,{item:!0,xs:12,style:n,alignContent:"center"},u().createElement(m.Divider,{style:r}))},Resizer:B,BodyWrapper:function(e){e.style;var r=e.id,t=e.children;return u().createElement(E,{container:!0,id:r,alignContent:"center",justifyContent:"center"},t)}};function re(e,r){return d().find(e,(function(e){return e.id===r}))}var te=function e(r,t,n){void 0===t&&(t="ROOT"),void 0===n&&(n=[]);var a=r[t];if(!a)throw new Error("Could not find node "+t);return n.push(Z({id:t},a)),d().each(a.nodes,(function(t){n.push.apply(n,e(r,t))})),d().each(a.linkedNodes,(function(t){n.push.apply(n,e(r,t))})),n};function ne(e,r,t,n){var a=re(e,t);if(!a)throw new Error("Could not find node with id "+t);var o=ee[a.type.resolvedName],i=function(e,r,t,n){return void 0===t&&(t=!1),d().compact(d().map(function r(n,a,o){if(void 0===a&&(a=[]),void 0===o&&(o=0),t||!t&&0===o){var i=re(e,n);if(!i)return a;var p=i.linkedNodes;d().each(p,(function(e){a.push(e),a=r(e,a,o+1)}));var c=i.nodes;return d().each(c,(function(e){a.push(e),a=r(e,a,o+1)})),a}return a}(r),(function(r){return re(e,r)})))}(e,t),p=d().map(i,(function(t,n){return ne(e,r,t.id,n)}));return u().createElement(o,$($({},a.props),{},{isSSR:!0,id:t,key:n,children:p}))}function ae(e){var r=te(e),t=e.ROOT.props.style.backgroundColor,n=e.ROOT.props.style.backgroundImage,a=function(e,r,t){return ne(e,r,"ROOT",12200)}(r,ee);return{jsx:a,bodyBgColor:t,bodyBgImage:n}}const oe=require("cssjson");function ie(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pe(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ce(e,r,t,n){return'\n    <!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional //EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\n    <html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office">\n      <head>\n        \x3c!--[if gte mso 9]>\n            <xml>\n                <o:OfficeDocumentSettings>\n                <o:AllowPNG/>\n                <o:PixelsPerInch>96</o:PixelsPerInch>\n                </o:OfficeDocumentSettings>\n            </xml>\n        <![endif]--\x3e\n        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <meta name="x-apple-disable-message-reformatting">\n        \x3c!--[if !mso]>\x3c!--\x3e\n        <meta http-equiv="X-UA-Compatible" content="IE=edge">\n        \x3c!--<![endif]--\x3e\n            '.concat((a=r,o=(0,oe.toJSON)(a).children,i="",Object.entries(o).map((function(e){var r,t,n=(t=2,function(e){if(Array.isArray(e))return e}(r=e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,a,o=[],i=!0,p=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);i=!0);}catch(e){p=!0,a=e}finally{try{i||null==t.return||t.return()}finally{if(p)throw a}}return o}}(r,t)||function(e,r){if(e){if("string"==typeof e)return pe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pe(e,r):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a={children:ie({},n[0],n[1])};i+='\n            <style type="text/css">\n                '.concat((0,oe.toCSS)(a),"\n            </style>\n        ")})),i),'\n\n        <style type="text/css">\n            .mainClass{\n                width: 58.333333333333336%\n            }\n        </style>\n        <style type="text/css">\n            .braft-output-content p{min-height:1em}.braft-output-content .image-wrap img{max-width:100%;height:auto}.braft-output-content ul,.braft-output-content ol{margin:16px 0;padding:0}.braft-output-content blockquote{margin:0 0 10px 0;padding:15px 20px;background-color:#f1f2f3;border-left:solid 5px #ccc;color:#666;font-style:italic}.braft-output-content pre{max-width:100%;max-height:100%;margin:10px 0;padding:15px;overflow:auto;background-color:#f1f2f3;border-radius:3px;color:#666;font-family:monospace;font-size:14px;font-weight:normal;line-height:16px;}.braft-output-content pre pre{margin:0;padding:0}\n            @media  (max-width: 768px) {\n                /* For mobile phones: */\n                .mainClass {\n                    width: 100%;\n                }\n            }\n            @media screen and (max-width: 600px) {\n                table td#containerCol {\n                    display: flex;\n                    width: 100%;\n                }\n            }\n        </style>\n        <meta name="viewport" content="minimum-scale=1, initial-scale=1, width=device-width" />\n       \n      </head>\n      <body style="\n            background-color:').concat(t,";\n            background-image: url(").concat(n,');\n            background-repeat: no-repeat;\n            background-size: cover;\n            background-attachment: fixed;\n        ">\n        ').concat(e,'\n        \n      </body>\n        <script type="text/javascript">\n          var w=window.innerWidth;\n          if(w < 800) document.getElementById("Main").className=("MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12");\n        <\/script>\n    </html>\n  ');var a,o,i}require("extract-inline-css");const le=require("cors");var ue=e.n(le),se=t()();se.engine("html",i().renderFile);var be=a().resolve();se.use(t().static(a().join(be,"./build"))),se.get("/email-editor",(function(e,r){r.render("index.ejs")})),se.use(ue()({origin:!0,credentials:!0})),se.use(c().json()),se.post("/api/html",(function(e,r){console.log(e.body);var t,n,a=new y.ServerStyleSheets,o=ae(e.body.app),i=o.jsx,p=o.bodyBgColor,c=o.bodyBgImage,l=b().renderToString(a.collect(u().createElement(y.ThemeProvider,{theme:(t=j.find((function(e){return e.name===h})),n=(0,m.createTheme)(d().merge({},v,t,{direction:"ltr"})),n=(0,m.responsiveFontSizes)(n))},u().createElement(f(),null),u().createElement(u().Fragment,null,i)))),s=a.toString();r.statusCode=200,r.setHeader("content-type","text/plain"),r.send(ce(l,s,p,c))})),se.listen(process.env.PORT||8080)})();